(function(e){function t(t){for(var a,c,i=t[0],r=t[1],l=t[2],d=0,p=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&p.push(s[c][0]),s[c]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var r=n[i];0!==s[r]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},s={app:0},o=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=r;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"0e51":function(e,t,n){"use strict";n("ba2f")},2018:function(e,t,n){},"310a":function(e,t,n){"use strict";n("ce1a")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"row m-0"},[n("div",{staticClass:"col-12 col-lg-8 p-0"},[n("map-search",{staticClass:"search"})],1),n("Maps",{staticClass:"col-12 col-lg-8 p-0"}),n("side-content",{staticClass:"col-12 col-lg-4 p-0"})],1)])},o=[],c=n("5530"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map-search active-cyan-4 mb-4"},[""==e.search?n("font-awesome-icon",{staticClass:"ico-search",attrs:{icon:"search"}}):n("font-awesome-icon",{staticClass:"ico-search ico-close",attrs:{icon:"times"},on:{click:function(t){return e.resetSearch()}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control input-search",attrs:{type:"text",placeholder:"Rechercher un secteur ou un pays","aria-label":"Search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})],1)},r=[],l=(n("ac1f"),n("841c"),n("2f62")),u={data:function(){return{search:""}},computed:Object(c["a"])({},Object(l["c"])(["activeSecteur"])),watch:{search:function(){console.log("recherche",this.search),this.filtredData(this.search)},activeSecteur:function(){this.search=this.activeSecteur}},methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["filtredData"])),{},{resetSearch:function(){this.search=""}})},d=u,p=(n("310a"),n("2877")),f=Object(p["a"])(d,i,r,!1,null,"610722b0",null),m=f.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map-wrapper"},[e.loading?n("div",{staticClass:"loader-map"},[e._m(0)]):e._e(),n("div",{attrs:{id:"map"}}),n("div",{staticClass:"geocoder",attrs:{id:"geocoder"}})])},_=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"spinner-border",attrs:{role:"status"}},[n("span",{staticClass:"sr-only"},[e._v("Loading...")])])}],h=(n("4160"),n("d81d"),n("b0c0"),n("159b"),n("e192")),v=n.n(h),g={data:function(){return{map:null,hoveredStateId:null,mapboxClient:null}},mounted:function(){this.initMap()},methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["setMenu","setSolutionsActive"])),{},{initMap:function(){var e=this;v.a.accessToken=window.access_token||"pk.eyJ1IjoidGhlc3kiLCJhIjoiY2tmMm5hZWM3MTlxczJ4bzAzaXR5cm5rciJ9.hD0g1llrf64deGWq2V_rqg",this.mapboxClient=window.mapboxSdk({accessToken:v.a.accessToken}),this.map=new v.a.Map({container:"map",style:window.map_url_style||"mapbox://styles/thesy/ckh0h1vl90z5o19nm3a9wq4fe/draft",center:[window.position_lng||35,window.position_lat||5],zoom:window.zoom||2}),this.map.addControl(new v.a.NavigationControl,"bottom-right");var t=this.countries;this.map.on("load",(function(){e.countrieShap(),t.forEach((function(t){e.setMarker(t.name,t.nb,t)}))}))},countrieShap:function(){var e=this.hoveredStateId,t=this.map;this.map.addSource("states",{type:"geojson",data:window.geo_json||"https://raw.githubusercontent.com/hktom/assets/master/africa-countries.geo.json"}),this.map.addLayer({id:"state-fills",type:"fill",source:"states",layout:{},paint:{"fill-color":window.fill_color||"red","fill-opacity":["case",["boolean",["feature-state","hover"],!1],.2,0]}}),this.map.addLayer({id:"state-borders",type:"line",source:"states",layout:{},paint:{"line-color":window.border_color||"transparent","line-width":.5}}),this.map.on("mousemove","state-fills",(function(n){n.features.length>0&&(e&&t.setFeatureState({source:"states",id:e},{hover:!1}),e=n.features[0].id,t.setFeatureState({source:"states",id:e},{hover:!0}))})),this.map.on("mouseleave","state-fills",(function(){e&&t.setFeatureState({source:"states",id:e},{hover:!1}),e=null}))},setMarker:function(e,t,n){var a=this.map,s=this.setPub;this.mapboxClient.geocoding.forwardGeocode({query:e,autocomplete:!1,limit:1}).send().then((function(e){if(e&&e.body&&e.body.features&&e.body.features.length){console.log(e);var o=e.body.features[0],c=document.createElement("div");c.innerHTML="".concat(t),c.id="marker-nbre-post",c.addEventListener("click",(function(e){var t=document.querySelector(".activeMarker");t&&t.classList.remove("activeMarker"),e.target.classList.add("activeMarker"),console.log("thythy",n),s(n)}));var i=new v.a.Marker(c).setLngLat(o.center);i.remove(a),i.addTo(a)}}))},setPub:function(e){console.log("laura",e),this.setMenu(2),this.setSolutionsActive(e.solutions)}}),computed:Object(c["a"])({},Object(l["c"])(["countries","loading"])),watch:{countries:function(){var e=this;document.querySelectorAll("#marker-nbre-post").forEach((function(e){return e.remove()})),this.countries.forEach((function(t){e.setMarker(t.name,t.nb,t)}))}}},C=g,w=(n("0e51"),Object(p["a"])(C,b,_,!1,null,null,null)),S=w.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[1==e.menu?n("secteur",{on:{click:function(t){return e.getFromSecteurs(e.data)}}}):e._e(),2==e.menu?n("publications",{attrs:{solutions:e.solutions}}):e._e()],1)},E=[],O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-left p-3"},[n("h2",[e._v("Secteurs")]),e.loading?n("div",{staticClass:"loader-map"},[e._m(0)]):e._e(),n("ul",{staticClass:"list-group"},e._l(e.secteurs,(function(t,a){return n("li",{key:a,staticClass:"list-group-item list-group-item-action d-flex justify-content-between align-items-center",on:{click:function(n){return e.getFromSecteurs(t)}}},[e._v(" "+e._s(t.name)+" "),n("span",{staticClass:"badge badge-nb badge-primary badge-pill"},[e._v(e._s(t.nb))])])})),0)])},j=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"spinner-border",attrs:{role:"status"}},[n("span",{staticClass:"sr-only"},[e._v("Loading...")])])}],y={data:function(){return{secteurActive:null,solutions:[]}},computed:Object(c["a"])({},Object(l["c"])(["secteurs","loading"])),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["setActiveSecteur"])),{},{getFromSecteurs:function(e){console.log("secteur cliqué",e),this.setActiveSecteur(e.name),"#map"==window.location.hash&&(window.location.hash=""),window.location.hash="#map"}})},L=y,M=(n("f1ec"),Object(p["a"])(L,O,j,!1,null,"e5ddfc80",null)),k=M.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-left p-3"},[null==e.targetPublication?n("div",[n("div",{staticClass:"header-back"},[n("span",{staticClass:"icon-pictos-bridgeback ico-back color-orange",on:{click:function(t){return e.goBack()}}},[n("span",{staticClass:"l l1"}),n("span",{staticClass:"l l2"})]),n("h2",[e._v("Solutions Tech")])]),n("vuescroll",{staticClass:"vueScroll"},[n("ul",{staticClass:"list-group list-item"},e._l(e.solutionsActive,(function(t,a){return n("li",{key:a,staticClass:"list-group-item list-group-item-action",on:{click:function(n){return n.preventDefault(),e.setTargetPub(t)}}},[n("div",{staticClass:"text-muted small"},[e._v("Date de mise à jour : "+e._s(e.getDate(t.modified)))]),t._embedded["wp:term"][1].length>0?n("div",{staticClass:"d-flex align-items-center"},[n("span",{staticClass:"icon-pictos-bridgepictos_Plan-de-travail-1 mr-2"}),e._l(t._embedded["wp:term"][1],(function(t,a){return n("span",{key:a,staticClass:"text-muted small mr-1"},[0!=a?n("span",[e._v(" | ")]):e._e(),e._v(e._s(t.name)+" ")])})),n("br")],2):e._e(),t._embedded["wp:term"][2].length>0?n("div",{staticClass:"d-flex align-items-center"},[n("span",{staticClass:"icon-pictos-bridgepictos-02 mr-2"}),e._l(t._embedded["wp:term"][2],(function(t,a){return n("span",{key:"pays"+a,staticClass:"text-muted small text-pays mr-1"},[0!=a?n("span",[e._v(" | ")]):e._e(),e._v(e._s(t.name)+" ")])}))],2):e._e(),n("p",{staticClass:"mt-2",domProps:{innerHTML:e._s(t.acf.chapeau.replace("<p>&nbsp;</p>",""))}}),n("a",{staticClass:"more",attrs:{href:"#!"},on:{click:function(n){return n.preventDefault(),e.setTargetPub(t)}}},[e._v(" Voir plus "),n("span",{staticClass:"icon-pictos-bridgego color-orange"})])])})),0)])],1):n("Publication",{attrs:{pub:e.targetPublication},on:{back:function(t){return e.resetPub()}}})],1)},A=[],P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-left"},[n("div",[n("div",{staticClass:"header-back"},[n("span",{staticClass:"icon-pictos-bridgeback ico-back color-orange",on:{click:function(t){return e.goBack()}}},[n("span",{staticClass:"l l1"}),n("span",{staticClass:"l l2"})])]),n("div",{staticClass:"card"},[n("vuescroll",{staticClass:"vueScroll"},[n("div",{staticClass:"card-body"},[n("div",{staticClass:"text-muted small"},[e._v("Date de mise à jour : "+e._s(e.getDate(e.pub.modified)))]),n("br"),n("h3",{domProps:{innerHTML:e._s(e.pub.title.rendered)}}),n("div",{staticClass:"mb-2"},[e.pub._embedded["wp:term"][1].length>0?n("div",{staticClass:"d-flex align-items-center"},[n("span",{staticClass:"icon-pictos-bridgepictos_Plan-de-travail-1 mr-2"}),e._l(e.pub._embedded["wp:term"][1],(function(t,a){return n("span",{key:a,staticClass:"mr-1"},[0!=a?n("span",[e._v(" | ")]):e._e(),e._v(e._s(t.name)+" ")])}))],2):e._e(),e.pub._embedded["wp:term"][2].length>0?n("div",{staticClass:"d-flex align-items-center"},[n("span",{staticClass:"icon-pictos-bridgepictos-02 mr-2"}),e._l(e.pub._embedded["wp:term"][2],(function(t,a){return n("span",{key:"secteur"+a,staticClass:"mr-1"},[0!=a?n("span",[e._v(" | ")]):e._e(),e._v(e._s(t.name)+" ")])}))],2):e._e()]),n("img",{staticClass:"image",attrs:{src:e.pub._embedded["wp:featuredmedia"][0]["source_url"]}}),n("p",[n("span",{domProps:{innerHTML:e._s(e.pub.acf.chapeau.replace("<p>&nbsp;</p>",""))}})]),""!=e.pub.acf.auteur?n("div",[n("h2",{},[e._v("AUTEUR")]),n("br"),n("p",{domProps:{innerHTML:e._s(e.pub.acf.auteur)}})]):e._e(),""!=e.pub.acf.auteur_de_la_citation?n("div",[n("h2",{},[e._v("L'AUTEUR DE LA CITATION")]),n("br"),n("p",{domProps:{innerHTML:e._s(e.pub.acf.auteur_de_la_citation)}})]):e._e(),""!=e.pub.acf.la_citation?n("div",[n("h2",{},[e._v("LA CITATION")]),n("br"),n("p",{domProps:{innerHTML:e._s(e.pub.acf.la_citation)}})]):e._e(),e.pub.acf.titre_du_probleme||""!=e.pub.acf.le_probleme?n("div",[n("h2",{},[e._v("L'ENJEU")]),n("p",{domProps:{innerHTML:e._s(e.pub.acf.titre_du_probleme)}}),n("p",{domProps:{innerHTML:e._s(e.pub.acf.le_probleme)}})]):e._e(),e.pub.acf.titre_de_la_solution||""!=e.pub.acf.la_solution?n("div",[n("h2",{},[e._v("LA SOLUTION")]),n("p",{domProps:{innerHTML:e._s(e.pub.acf.titre_de_la_solution)}}),n("p",{domProps:{innerHTML:e._s(e.pub.acf.la_solution)}})]):e._e(),""!=e.pub.acf.le_regard_de_digital_africa?n("div",[n("h2",{},[e._v("LE REGARD DE DIGITAL AFRICA")]),n("p",{domProps:{innerHTML:e._s(e.pub.acf.le_regard_de_digital_africa)}})]):e._e(),""!=e.pub.acf.les_acteurs?n("div",[n("h2",{},[e._v("LES ACTEURS")]),n("p",{domProps:{innerHTML:e._s(e.pub.acf.les_acteurs)}})]):e._e(),e.pub.acf.titre_de_limpact||""!=e.pub.acf.limpact?n("div",[n("h2",{},[e._v("L'IMPACT")]),n("p",{domProps:{innerHTML:e._s(e.pub.acf.titre_de_limpact)}}),n("p",{domProps:{innerHTML:e._s(e.pub.acf.limpact)}})]):e._e(),""!=e.pub.acf.lien_vers_la_solution?n("div",[n("h2",{},[e._v("LE LIEN VERS LA SOLUTION")]),n("p",{domProps:{innerHTML:e._s(e.pub.acf.lien_vers_la_solution)}})]):e._e(),""!=e.pub.acf.liens_ext?n("div",[n("h2",{},[e._v("LE LIEN EXTERNE")]),n("p",{domProps:{innerHTML:e._s(e.pub.acf.liens_ext)}})]):e._e()])])],1)])])},I=[],D=n("77a0"),N=n.n(D),U={props:["pub"],components:{vuescroll:N.a},data:function(){return{}},mounted:function(){console.log("nous sommes dans publication component",this.solutions)},computed:Object(c["a"])({},Object(l["c"])(["solutionsActive"])),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["setMenu"])),{},{getDate:function(e){var t=new Date(e);return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()},goBack:function(){console.log("Button cliqué"),this.$emit("back")}})},H=U,R=(n("5a21"),Object(p["a"])(H,P,I,!1,null,"9bf99360",null)),$=R.exports,q={components:{Publication:$,vuescroll:N.a},data:function(){return{targetPublication:null}},mounted:function(){console.log("nous sommes dans publication component",this.solutions)},computed:Object(c["a"])({},Object(l["c"])(["solutionsActive"])),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["setMenu"])),{},{getDate:function(e){var t=new Date(e);return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()},goBack:function(){console.log("Button cliqué"),this.setMenu(1)},setTargetPub:function(e){this.targetPublication=e},resetPub:function(){this.targetPublication=null}}),watch:{solutionsActive:function(){console.log("Ged"),this.resetPub()}}},F=q,G=(n("f4e2"),Object(p["a"])(F,x,A,!1,null,"63805586",null)),J=G.exports,V={components:{Secteur:k,Publications:J},data:function(){return{solutions:[]}},computed:Object(c["a"])({},Object(l["c"])(["menu"])),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["setMenu"])),{},{getFromSecteurs:function(e){console.log("secteur cliqué",e),this.setMenu(e.name)}})},z=V,B=Object(p["a"])(z,T,E,!1,null,null,null),Y=B.exports,W={name:"App",components:{Maps:S,SideContent:Y,MapSearch:m},mounted:function(){this.loadData()},methods:Object(c["a"])({},Object(l["b"])(["loadData"]))},X=W,Z=(n("034f"),Object(p["a"])(X,s,o,!1,null,null,null)),K=Z.exports;n("4de4"),n("c740"),n("c975"),n("45fc");function Q(e){var t=[];return e.forEach((function(e){e.pays.forEach((function(n,a){var s=t.findIndex((function(e){return e.id==n}));-1!=s?(t[s].nb++,t[s].solutions.push(e)):t.push({id:n,name:e._embedded["wp:term"][1][a]["name"],nb:1,solutions:[e]})}))})),t}function ee(e){var t=[];return e.forEach((function(e){e.secteur.forEach((function(n,a){var s=t.findIndex((function(e){return e.id==n}));-1!=s?(t[s].nb++,t[s].solutions.push(e)):t.push({id:n,name:e._embedded["wp:term"][2][a]["name"],nb:1,solutions:[e]})}))})),t}a["default"].use(l["a"]);var te={data:{},secteurs:[],countries:[],search:[],activeSecteur:null,menu:1,solutionsActive:[],loading:!1},ne={loadData:function(e){var t=e.commit;t("SET_LOADING",!0),window.axios.get("https://resilient.digital-africa.co/wp-json/wp/v2/use_case?_embed=author,wp:term,wp:featuredmedia").then((function(e){var n=e.data;console.log(n),t("SET_DATA",n),t("SET_SECTEURS",ee(n)),t("SET_COUNTRIES",Q(n)),t("SET_LOADING",!1)}))},filtredData:function(e,t){var n=e.state,a=e.commit;console.log("state data",n.data),console.log("search text",t),t=t.toLowerCase();var s=n.data.filter((function(e){var n=!1;return n=e._embedded["wp:term"][1].some((function(e){return-1!==e.name.toLowerCase().indexOf(t)||-1!==t.indexOf(e.name.toLowerCase())})),n||(n=e._embedded["wp:term"][2].some((function(e){return-1!==e.name.toLowerCase().indexOf(t)||-1!==t.indexOf(e.name.toLowerCase())}))),n}));console.log(s);var o=Q(s),c=ee(s);console.log("je",o,c),a("SET_COUNTRIES",o)},setActiveSecteur:function(e,t){var n=e.commit;n("SET_ACTIVE_SECTEUR",t)},setMenu:function(e,t){var n=e.commit;n("SET_MENU",t)},setSolutionsActive:function(e,t){var n=e.commit;n("SET_SOLUTIONS_ACTIVE",t)}},ae={SET_DATA:function(e,t){e.data=t},SET_SECTEURS:function(e,t){console.log(t),e.secteurs=t},SET_COUNTRIES:function(e,t){console.log(t),e.countries=t},SET_SEARCH:function(e,t){console.log(t),e.search=t},SET_ACTIVE_SECTEUR:function(e,t){e.activeSecteur=t},SET_MENU:function(e,t){e.menu=t},SET_SOLUTIONS_ACTIVE:function(e,t){e.solutionsActive=t},SET_LOADING:function(e,t){e.loading=t}},se=new l["a"].Store({state:te,mutations:ae,actions:ne,modules:{}}),oe=n("ecee"),ce=n("c074"),ie=n("ad3d");n("2018"),a["default"].use(N.a,{ops:{bar:{keepShow:!0,background:"#DA4039"}},name:"myScroll"}),oe["c"].add(ce["a"],ce["b"]),a["default"].component("font-awesome-icon",ie["a"]),a["default"].config.productionTip=!1,window.axios=n("bc3a").default,a["default"].config.productionTip=!1,new a["default"]({store:se,render:function(e){return e(K)}}).$mount("#app")},"5a21":function(e,t,n){"use strict";n("e38f")},"85ec":function(e,t,n){},ba2f:function(e,t,n){},ce1a:function(e,t,n){},df2c:function(e,t,n){},e38f:function(e,t,n){},f1ec:function(e,t,n){"use strict";n("df2c")},f4e2:function(e,t,n){"use strict";n("ff8c")},ff8c:function(e,t,n){}});
//# sourceMappingURL=app.a491bb25.js.map